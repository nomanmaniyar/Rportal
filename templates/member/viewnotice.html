{% extends 'member/mlayout.html' %}

{% block content %}
<div class="container mt-5 pt-3">
    <div class="row row-cols-auto">
        <a class="col" href='javascript:self.history.back();'>
            <i class="bi bi-arrow-left" style="font-size: x-large;"></i>
        </a>
        <h2 class="col"> Notice</h2>
    </div>
    <hr>
    <div class="row row-cols-1 row-cols-md-2 g-4 ">
        {% if (account[0]|length)==0 %}
        <div class="container">
            <p class="h3 m-5 text-muted text-center">no notice</p>
        </div>
        {% else %}
        {% for data in ((range(account|length))|reverse) %}
        <div class="col-sm-6">
            <div class="card">
                <div class="card-body">
                    <div class="d-flex justify-content-between">
                        <h5 class="card-title" id="div">{{ account[data]['notice_subject'] }}</h5>
                        <span style="font-size: x-small;">
                            {{ account[data]['notice_time'] }}
                        </span>
                    </div>
                    <p class="card-text text-overflow" id="notice">
                        {{ account[data]['notice_message'] }}
                    </p>
                    <a class="btn-overflow" href="#">Show more</a>
                </div>
            </div>
        </div>
        {% endfor %}
        {% endif %}
    </div>
</div>
<style>
    .text-overflow {
        height: 100px;
        display: block;
        overflow: hidden;
        word-break: break-word;
        word-wrap: break-word;
    }

    .btn-overflow {
        display: none;
        text-decoration: none;
    }
</style>
<script>
    $.fn.toHtml = function () {
        return $(this).html($(this).text())
    }
    $('#notice').toHtml()
////
    var text = $('.text-overflow'),
        btn = $('.btn-overflow'),
        h = text[0].scrollHeight;
    if (h > 100) {
        btn.addClass('less');
        btn.css('display', 'block');
    }

    btn.click(function (e) {
        e.stopPropagation();

        if (btn.hasClass('less')) {
            btn.removeClass('less');
            btn.addClass('more');
            btn.text('Show less');

            text.animate({ 'height': h });
        } else {
            btn.addClass('less');
            btn.removeClass('more');
            btn.text('Show more');
            text.animate({ 'height': '120px' });
        }
    });
</script>


{% endblock %}