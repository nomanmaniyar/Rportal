{% extends 'staff/staff_layout.html' %}

{% block title %}R-Portal - Staff Complaints{% endblock %}

{% block content %}
<style>
    table, th, td {
      border:1px solid black;
    }
</style>
<h3>Manage Complaint</h3>
<div>
    <h4>Active Complaints:</h4>
    <br>
    
    <table class="table" style="width:100%">
      
        {% for data in account %}
            <tr>
                <td> 
                    <label><b>Date :</b></label>{{ data['complaint_time']}}<br>
                    <label><b>Name:</b></label>&nbsp;{{ data['complaint_name'] }}<br>
                    <label><b>Subject:</b></label> {{ data['complaint_subject'] }}<br>
                    <label><b>Message:</b></label> {{ data['complaint_message'] }}<br>
                    <label><b>Reply:</b></label> {{ data['complaint_reply'] }}<br><br>
                    <button class="btn btn-primary" onclick="openModal()" >Reply</button>  <br><br>
 
                    <dialog id="dialog">
                    <button align="right" onclick="closeModal()"  class="btn-close" aria-label="Close" ></button><br>
                    <form action="{{ url_for('staff_complaintup') }}"  methods="POST">
                        <input type="hidden" name="cid" value="{{ data['complaint_id']}}" >
                        <input type="text" name="reply" placeholder="Enter Your Reply"><br><br>
                        <button   type="submit" >Send </button><br>         
                     </form>
                    </dialog>

                </td>
            </tr>   

            
        {% endfor %}
    </table>
    <br>    
    <br>
    <a href='javascript:self.history.back();'>Go Back</a>
</div>

<style>
    #dialog{width:500px;}
.right{float:right}
</style>

<script>
    var dailog = document.getElementById("dialog"); 

function openModal() { 
   // dailog.show(); 
      dailog.showModal();
} 

function closeModal() { 
    dailog.close(); 
} 
</script>

{% endblock %}